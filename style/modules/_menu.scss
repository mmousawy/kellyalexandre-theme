.menu-holder {
  z-index: 100;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: transparentize($cl-menu, .05);
  opacity: 0;
  transition: opacity .3s;
  pointer-events: none;
  backface-visibility: hidden;

  &.is-open {
    opacity: 1;
    pointer-events: auto;
  }

  .wrapper {
    position: relative;
    height: 100%;
  }

  .menu-button--close {
    position: absolute;
    top: 2.25rem;
    right: calc(#{$sz-padding} + 30px);
    width: 2.5rem;
    height: 2.5rem;
    margin: 0;
    border: 0;
    border-radius: 50%;
    background: svg-uri('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#{$cl-foreground}" d="M5.6 4.2L4.2 5.6l6.4 6.4-6.4 6.4 1.4 1.4 6.4-6.4 6.4 6.4 1.4-1.4-6.4-6.4 6.4-6.4-1.4-1.4-6.4 6.4z"/></svg>');
    background-repeat: no-repeat;
    background-size: 1.5rem;
    background-position: 50%;
    cursor: pointer;

    @include bp(small) {
      top: 1.25rem;
    }
  }
}

.menu-button {
  -webkit-appearance: none;
  -moz-appearance: none;
  -ms-appearance: none;
  -o-appearance: none;
  align-self: center;
  appearance: none;
  position: relative;
  width: 2.5rem;
  height: 2.5rem;
  margin: 0;
  border: 0;
  border-radius: 50%;
  background: $cl-white svg-uri('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#{$cl-foreground}" d="M2 5v2h20V5zm0 6v2h20v-2z"/></svg>');
  background-repeat: no-repeat;
  background-size: 1.5rem;
  background-position: 50% 66.6%;
  cursor: pointer;
  outline: none;
  transition: opacity 200ms;

  &:checked {
    opacity: 0;
  }
}

.menu-container {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  ul {
    list-style: none;
    padding: 0;
    margin: 0;

    margin-left: -5%;
    margin-top: -5%;

    &::before {
      content: '';
      position: absolute;
      margin-left: .75rem;
      margin-top: -1rem;
      width: 50%;
      height: 2px;
      background: $cl-primary;
      opacity: 0;
      animation-fill-mode: both;
      animation-duration: 200ms;
    }
  }
}

.show-items .menu-container ul::before {
  animation-name: menuLine;
}

.menu-container li {
  animation-fill-mode: both;
  animation-duration: 200ms;
  opacity: 0;

  @for $i from 1 through 20 {
    &:nth-child(#{$i}) {
      animation-delay: $i * 50 + 50ms;
    }
  }

  a {
    display: block;
    padding: .25rem;
    margin: .5rem;
    font-size: 1.25rem;
    text-transform: uppercase;
    text-decoration: none;
    font-weight: 500;
  }

  &.menu-main {
    margin-top: 2em;

    ~ .menu-main {
      margin-top: 0;
    }
  }

  .show-items & {
    animation-name: menuFadeIn;
  }
}

@keyframes menuFadeIn {
  0% {
    transform: translateY(-.25rem);
    opacity: 0;
  }

  100% {
    transform: 0;
    opacity: 1;
  }
}

@keyframes menuLine {
  0% {
    transform: translateX(50%);
    opacity: 0;
  }

  100% {
    transform: 0;
    opacity: 1;
  }
}
